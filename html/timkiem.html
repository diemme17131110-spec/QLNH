<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="timkiem.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="#Tìm kiếm...">
    <button class="search-btn">
      <i class="fa fa-search"></i>
    </button>
  </div>
  <div id="products">
  <div class="product-item" data-category="ao">
    <div class="name">Áo thun trắng</div>
  </div>
  <div class="product-item" data-category="quan">
    <div class="name">Quần jean xanh</div>
  </div>
  <div class="product-item" data-category="ao">
    <div class="name">Áo sơ mi</div>
  </div>
  
</div>
  <script>

  function normalize(text) {
    if (!text) return '';
    return text.toLowerCase()
      .normalize('NFD')             
      .replace(/[\u0300-\u036f]/g, '') 
      .replace(/đ/g, 'd').replace(/Đ/g, 'd')
      .trim();
  }

  const input = document.getElementById('searchInput');
  const btn = document.querySelector('.search-btn');
  const productsEl = document.getElementById('products');
  const items = Array.from(document.querySelectorAll('.product-item'));

  function filterProducts() {
    const keyword = normalize(input.value);
    let found = false;


    if (keyword === '') {
      items.forEach(item => item.style.display = '');
      productsEl.style.display = ''; 
      return;
    }

  
    items.forEach(item => {
      const name = normalize(item.querySelector('.name').textContent);
      const category = normalize(item.getAttribute('data-category'));

      if (name.includes(keyword) || category.includes(keyword)) {
        item.style.display = '';
        found = true;
      } else {
        item.style.display = 'none';
      }
    });

    productsEl.style.display = found ? '' : 'none';
  }


  btn.addEventListener('click', filterProducts);

  input.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') {
      filterProducts();
    }
  });
</script>
</body>
</html>
